{"version":3,"sources":["components/Tasks.js","components/AddTask.js","components/Task.js","components/EditTask.js","App.js","routes.js","tasks.js","index.js","create-router.js"],"names":["Tasks","props","router","onRemovableTasks","removable","_useStoreon","useStoreon","dispatch","tasks","osname","platform","user_id","user","id","react_default","a","createElement","vkui","left","ANDROID","onClick","delete_default","map","task","index","expandable","key","onRemove","navigate","text","AddTask","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","onClickAddTask","state","setState","error","navigateToDefault","onChangeTextTask","e","target","value","_this2","PanelHeaderBack_default","title","onChange","placeholder","vertical","style","float","className","done_default","size","React","Component","connect","Task","filter","Number","route","params","whiteSpace","EditTask","onClickEditTask","_this$state","objectSpread","_this3","App","currentTaskId","VKUIconnect","subscribe","detail","type","data","console","log","send","_this$props","activePanel","name","activeView","components_Tasks","setCurrentTaskId","add_default","components_Task","write_default","theme","components_EditTask","components_AddTask","index_es","nodeName","_ref","App_App","assign","routes","path","API","createRouter","defaultRoute","usePlugin","loggerPlugin","browserPlugin","useHash","store","createStore","on","_ref2","tsks","_ref3","_ref4","fetch","concat","then","res","json","notes","_ref5","method","body","JSON","stringify","headers","Content-Type","_ref6","_ref7","_ref8","_ref9","tsk","start","ReactDOM","render","context_default","Provider","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.eabfb988.chunk.js","sourcesContent":["import React from 'react'\nimport { List, Cell, PanelHeader, platform, ANDROID, HeaderButton } from '@vkontakte/vkui'\nimport '@vkontakte/vkui/dist/vkui.css'\nimport Icon24Delete from '@vkontakte/icons/dist/24/delete'\nimport useStoreon from 'storeon/react'\n\nconst Tasks = (props) => {\n\n        let {\n            router,\n            onRemovableTasks,\n            removable\n        } = props\n\n\n        const { dispatch, tasks } = useStoreon('tasks')\n        const osname = platform()\n        const user_id = props.user.id\n\n\t\treturn (\n\t\t\t<div>\n                <PanelHeader\n                    left={\n                        osname === ANDROID ?\n                        false\n                        :\n                        <HeaderButton \n                            onClick={() => onRemovableTasks()}\n                        >\n                            <Icon24Delete/>\n                        </HeaderButton>\n                    }\n                >\n                    Заметки\n                </PanelHeader>\n                <List>\n                    {\n                        tasks.map((task, index) => (\n                            <Cell\n                                expandable\n                                removable={removable}\n                                key={index}\n                                onRemove={() => dispatch('tasks/api/delete', ({ tasks }, {\n                                    task, user_id\n                                }))}\n                                onClick={()=> {\n                                        router.navigate('task', { id : task.id })\n                                    } \n                                }\n                            >\n                                {task.text}\n                            </Cell>\n                        ))\n                    }\n                </List>\n            </div>\n\t\t);\n}\n\nexport default Tasks","import React from 'react'\nimport { PanelHeader, FormLayout, Textarea, FixedLayout, Button, Div, platform, ANDROID, FormStatus } from '@vkontakte/vkui'\nimport '@vkontakte/vkui/dist/vkui.css'\nimport PanelHeaderBack from '@vkontakte/vkui/dist/components/PanelHeaderBack/PanelHeaderBack'\nimport Icon24Done from '@vkontakte/icons/dist/24/done'\nimport connect from 'storeon/react/connect'\n\nclass AddTask extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\ttext : '',\n\t\t\terror : false\n\t\t};\n\t}\n\n\tonClickAddTask = () => {\n\t\tlet {\n\t\t\trouter\n\t\t} = this.props\n\n\t\tlet {\n\t\t\ttext\n\t\t} = this.state\n\n\t\tif (text !== '') {\n\t\t\tthis.setState({ error : false })\n\t\t\tconst tasks = this.props.tasks\n\t\t\tconst user_id = this.props.user.id\n\t\t\tthis.props.dispatch('tasks/api/add', ({ tasks }, { user_id, text }))\n\t\t\trouter.navigateToDefault()\n\t\t} else {\n\t\t\tthis.setState({ error : true })\n\t\t}\n\n\t}\n\n\tonChangeTextTask = (e) => {\n\t\tconst text = e.target.value\n\t\tthis.setState({ text })\n\t}\n\n\trender() {\n\n\t\tlet {\n\t\t\trouter\n\t\t} = this.props\n\n\t\tconst osname = platform()\n\n\t\treturn (\n\t\t\t<div>\n                <PanelHeader\n\t\t\t\t\tleft={\n\t\t\t\t\t\t<PanelHeaderBack\n\t\t\t\t\t\t\tonClick={()=>router.navigate('tasks')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t>\n                Добавление\n                </PanelHeader>\n                <FormLayout>\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.state.error === true &&\n\t\t\t\t\t\t<FormStatus title=\"Некорректные поля\" state=\"error\">\n\t\t\t\t\t\t\tЗаполните все поля\n\t\t\t\t\t\t</FormStatus>\n\t\t\t\t\t}\n\t\t\t\t\t<Textarea \n\t\t\t\t\t\tonChange={this.onChangeTextTask}\n\t\t\t\t\t\tvalue={this.state.text}\n\t\t\t\t\t\tplaceholder='Здесь должен быть Ваш текст' />\n\t\t\t\t</FormLayout>\n\t\t\t\t<FixedLayout vertical='bottom'>\n\t\t\t\t\t{\n\t\t\t\t\t\tosname === ANDROID ? \n\t\t\t\t\t\t<Div style={{ float : 'right' }}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tclassName='FixedBottomButton'\n\t\t\t\t\t\t\t\tonClick={(e) => this.onClickAddTask(e)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Icon24Done/>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Div>\n\t\t\t\t\t\t:\n\t\t\t\t\t\t<Div>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tsize='xl'\n\t\t\t\t\t\t\t\tonClick={(e) => this.onClickAddTask(e)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tДобавить\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Div>\n\t\t\t\t\t}\n\t\t\t\t</FixedLayout>\n            </div>\n\t\t);\n\t}\n}\n\nexport default connect('tasks', AddTask)\n","import React from 'react'\nimport { PanelHeader, Div, Group } from '@vkontakte/vkui'\nimport PanelHeaderBack from '@vkontakte/vkui/dist/components/PanelHeaderBack/PanelHeaderBack'\nimport useStoreon from 'storeon/react'\n\nfunction Task(props) {\t\n\t\n\tconst { tasks } = useStoreon('tasks')\n\tconst task = tasks.filter((task) => task.id === Number(props.route.params.id))[0]\n\tconst router = props.router\n\n\treturn (\n\t\t<div>\n           <PanelHeader\n\t\t\t\tleft={\n\t\t\t\t\t<PanelHeaderBack\n\t\t\t\t\t\tonClick={() => router.navigate('tasks')}\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t>\n            Заметка\n            </PanelHeader>\n\t\t\t{\n\t\t\t\ttypeof task !== 'undefined' &&\n\t\t\t\t\t<Group>\n\t\t\t\t\t\t<Div style={{whiteSpace : 'pre-line'}}>\n\t\t\t\t\t\t\t{task.text}\n\t\t\t\t\t\t</Div>\n\t\t\t\t\t</Group>\n\t\t\t}\n        </div>\n\t)\n}\n\nexport default Task\n","import React from 'react'\nimport { PanelHeader, FormLayout, Textarea, FixedLayout, Button, Div, platform, ANDROID, FormStatus } from '@vkontakte/vkui'\nimport '@vkontakte/vkui/dist/vkui.css'\nimport PanelHeaderBack from '@vkontakte/vkui/dist/components/PanelHeaderBack/PanelHeaderBack'\nimport Icon24Done from '@vkontakte/icons/dist/24/done'\nimport connect from 'storeon/react/connect'\n\nclass EditTask extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tid : null,\n\t\t\ttext : '',\n\t\t\terror : false\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tconst tasks = this.props.tasks\n\t\tconst task = tasks.filter((task) => task.id === Number(this.props.route.params.id))[0]\n\t\tthis.setState({ ...task })\n\t}\n\n\tonClickEditTask = () => {\n\t\tlet {\n\t\t\trouter\n\t\t} = this.props\n\n\t\tlet {\n\t\t\tid,\n\t\t\ttext\n\t\t} = this.state\n\n\t\tif (text !== '') {\n\t\t\tthis.setState({ error : false })\n\t\t\tconst tasks = this.props.tasks\n\t\t\tlet task = { id, text }\n\t\t\tconst user_id = this.props.user.id\n\t\t\tthis.props.dispatch('tasks/api/edit', ({ tasks }, { task, user_id }))\n\t\t\trouter.navigate('task', { id : id })\n        } else {\n\t\t\tthis.setState({ error : true })\n\t\t}\n\n\t}\n\n\tonChangeTextTask = (e) => {\n\t\tconst text = e.target.value\n\t\tthis.setState({ text })\n\t}\n\n\trender() {\n\n\t\tlet {\n\t\t\trouter\n\t\t} = this.props\n\n\t\tconst osname = platform()\n\n\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<PanelHeader\n\t\t\t\t\t\tleft={\n\t\t\t\t\t\t\t<PanelHeaderBack \n\t\t\t\t\t\t\t\tonClick={()=>router.navigate('task', { id : this.state.id })}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\tРедактирование\n\t\t\t\t\t</PanelHeader>\n\t\t\t\t\t<FormLayout>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.state.error === true &&\n\t\t\t\t\t\t\t<FormStatus title=\"Некорректные поля\" state=\"error\">\n\t\t\t\t\t\t\t\tЗаполните все поля\n\t\t\t\t\t\t\t</FormStatus>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<Textarea \n\t\t\t\t\t\t\tonChange={this.onChangeTextTask}\n\t\t\t\t\t\t\tvalue={this.state.text}\n\t\t\t\t\t\t\tplaceholder='Напиши, чтобы ты хотел сделать' />\n\t\t\t\t\t</FormLayout>\n\t\t\t\t\t<FixedLayout vertical='bottom'>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tosname === ANDROID ?\n\t\t\t\t\t\t\t<Div style={{ float : 'right' }}>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tclassName='FixedBottomButton'\n\t\t\t\t\t\t\t\t\tonClick={() => this.onClickEditTask()}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Icon24Done/>\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Div>\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t<Div>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tsize='xl'\n\t\t\t\t\t\t\t\t\tonClick={() => this.onClickEditTask()}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tСохранить\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Div>\n\t\t\t\t\t\t}\n\t\t\t\t\t</FixedLayout>\n\t\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default connect('tasks', EditTask)\n","import React from 'react'\nimport { View, Panel, FixedLayout, Div, Button, platform, ANDROID, Root } from '@vkontakte/vkui'\nimport '@vkontakte/vkui/dist/vkui.css'\nimport Tasks from './components/Tasks'\nimport AddTask from './components/AddTask'\nimport Task from './components/Task'\nimport EditTask from './components/EditTask'\nimport Icon24Add from '@vkontakte/icons/dist/24/add'\nimport Icon24Write from '@vkontakte/icons/dist/24/write'\nimport { RouteNode } from 'react-router5'\nimport Icon24Delete from '@vkontakte/icons/dist/24/delete'\nimport './custom.css'\nimport connect from 'storeon/react/connect'\nimport VKUIconnect from '@vkontakte/vkui-connect'\n\nclass App extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tcurrentTaskId : null,\n\t\t\tremovable : false,\n\t\t\tuser : {\n\t\t\t\tid : 1\n\t\t\t}\n\t\t}\n\t}\n\n\tonRemovableTasks = () => this.setState({ removable : !this.state.removable })\n\n\tcomponentDidMount() {\n\t\tVKUIconnect.subscribe((e) => {\n\t\t\tswitch (e.detail.type) {\n\t\t\t\tcase 'VKWebAppGetUserInfoResult':\n\t\t\t\t\tthis.setState({ user: e.detail.data });\n\t\t\t\t\tlet id = e.detail.data.id\n\t\t\t\t\tthis.props.dispatch('tasks/api/get', \n\t\t\t\t\t\t(\t\n\t\t\t\t\t\t\t{ id }\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tconsole.log(e.detail.type);\n\t\t\t}\n\t\t});\n\t\tVKUIconnect.send('VKWebAppGetUserInfo', {});\n\t}\n\n\trender() {\n\t\tlet {\n\t\t\troute,\n\t\t\trouter\n\t\t} = this.props\n\n\t\tconst osname = platform()\n\t\tconst activeView = 'tasksView'\n\t\tconst activePanel = route.name\n\n\t\treturn (\n\t\t\t<Root activeView={activeView}>\n\t\t\t\t<View activePanel={activePanel} id='tasksView'>\n\t\t\t\t\t<Panel id='tasks'>\n\t\t\t\t\t\t<Tasks \n\t\t\t\t\t\t\tuser={this.state.user}\n\t\t\t\t\t\t\trouter={router}\n\t\t\t\t\t\t\tremovable={this.state.removable}\n\t\t\t\t\t\t\tonRemovableTasks={this.onRemovableTasks}\n\t\t\t\t\t\t\tsetCurrentTaskId={this.setCurrentTaskId}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<FixedLayout vertical='bottom'>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tosname === ANDROID ?\n\t\t\t\t\t\t\t\t<Div style={{ float : 'right' }}>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tclassName='FixedBottomButton'\n\t\t\t\t\t\t\t\t\t\tonClick={()=>router.navigate('add')}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Icon24Add/>\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Div>\n\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t<Div>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tsize=\"xl\"\n\t\t\t\t\t\t\t\t\t\tonClick={()=>router.navigate('add')}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tНовая заметка\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tosname === ANDROID ? \n\t\t\t\t\t\t\t\t<Div>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tclassName='FixedBottomButton'\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.onRemovableTasks()}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Icon24Delete/>\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Div>\n\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</FixedLayout>\n\t\t\t\t\t</Panel>\n\t\t\t\t\t\n\t\t\t\t\t<Panel id='task'>\n\t\t\t\t\t\t<Task \n\t\t\t\t\t\t\trouter={router}\n\t\t\t\t\t\t\troute={route}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<FixedLayout vertical='bottom'>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tosname === ANDROID ?\n\t\t\t\t\t\t\t\t<Div style={{ float : 'right' }}>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tclassName='FixedBottomButton'\n\t\t\t\t\t\t\t\t\t\tonClick={()=>router.navigate('edit', { id : route.params.id })}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Icon24Write/>\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Div>\n\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t<Div>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tsize=\"xl\"\n\t\t\t\t\t\t\t\t\t\tonClick={()=>router.navigate('edit', { id : route.params.id })}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tРедактировать\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</FixedLayout>\n\t\t\t\t\t</Panel>\n\n\t\t\t\t\t<Panel id=\"edit\" theme=\"white\">\n\t\t\t\t\t\t<EditTask \n\t\t\t\t\t\t\trouter={router}\n\t\t\t\t\t\t\troute={route}\n\t\t\t\t\t\t\tuser={this.state.user}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Panel>\n\n\t\t\t\t\t<Panel id='add' theme=\"white\">\n\t\t\t\t\t\t\t<AddTask \n\t\t\t\t\t\t\t\tuser={this.state.user}\n\t\t\t\t\t\t\t\trouter={router}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t</Panel>\n\n\t\t\t\t</View>\n\t\t\t</Root>\n\t\t)\n\t}\n}\n\nexport default connect('tasks', (props) => (\n    <RouteNode nodeName=\"\">\n        {({ route }) => <App route={route} {...props}/>}\n    </RouteNode>))","export default [\n    { name: 'tasks', path: '/tasks' },\n    { name: 'task', path: '/task/:id' },\n    { name: 'edit', path: '/edit/:id' },\n    { name: 'add', path: '/add' }\n]","//localhost:8082\n//'https://azshara-api.com'\nconst API = 'https://azshara-api.com'\n\nexport default store => {\n    store.on('@init', () => {\n        return { tasks : [] }\n    })\n\n    store.on('tasks/save', ({ tasks }, { tsks }) => {\n        return { tasks : tsks }\n    })\n\n    store.on('tasks/api/get', ({ tasks }, { id }) => {\n        fetch(`${API}/notes/${id}`)\n        .then(res => res.json())\n        .then(data => {\n            let tsks = data.notes\n            store.dispatch('tasks/save', { tsks })\n        })\n    })\n  \n    store.on('tasks/api/add', ({ tasks }, task) => {\n\n        fetch(`${API}/add`, {\n            method : 'POST',\n            body : JSON.stringify(task),\n            headers: { 'Content-Type': 'application/json' }\n        })\n        .then(res => res.json())\n        .then(data => {\n            if (typeof data.id !== 'undefined') {\n                task.id = data.id\n                let tsks = tasks.concat([task])\n                store.dispatch('tasks/save', { tsks })\n            }\n        })\n    })\n\n    store.on('tasks/api/delete', ({ tasks }, { task, user_id }) => {\n\n        fetch(`${API}/delete`, {\n            method : 'POST',\n            body : JSON.stringify({\n                id : task.id,\n                user_id : user_id\n            }),\n            headers: { 'Content-Type': 'application/json' }\n        })\n\n        const id = task.id\n        return { tasks: tasks.filter((task) => task.id !== id) }\n    })\n\n    store.on('tasks/api/edit', ({ tasks }, { task, user_id } ) => {\n\n        fetch(`${API}/edit`, {\n            method : 'POST',\n            body : JSON.stringify({\n                id : task.id,\n                text : task.text,\n                user_id : user_id\n            }),\n            headers: { 'Content-Type': 'application/json' }\n        })\n\n        let newTasks = tasks.map((tsk) => {\n\t\t\tif (tsk.id === task.id) {\n\t\t\t\ttsk = task\n\t\t\t}\n\t\t\treturn tsk\n\t\t})\n\t\treturn { tasks : newTasks }\n    })\n  }","import 'core-js/es6/map';\nimport 'core-js/es6/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vkui-connect';\nimport App from './App';\nimport { RouterProvider } from 'react-router5'\nimport createRouter from './create-router'\nimport createStore from 'storeon'\nimport tasks from './tasks'\nimport StoreContext from 'storeon/react/context'\n\nconnect.send('VKWebAppInit', {});\n\n\nconst router = createRouter()\nconst store = createStore([tasks])\n\nrouter.start(() => {\n    ReactDOM.render((\n        <RouterProvider router={router}>\n            <StoreContext.Provider value={store}>\n                <App router={router}/>\n            </StoreContext.Provider>\n        </RouterProvider>\n    ), document.getElementById('root'))\n})\n","import createRouter from 'router5'\nimport loggerPlugin from 'router5-plugin-logger'\nimport browserPlugin from 'router5-plugin-browser'\nimport routes from './routes'\n\nexport default function configureRouter() {\n    const router = createRouter(routes, {\n        defaultRoute: 'tasks'\n    })\n\n    router.usePlugin(loggerPlugin)\n    router.usePlugin(\n            browserPlugin({\n                useHash: true\n            })\n        )\n\n    return router\n}"],"sourceRoot":""}