{"version":3,"sources":["components/Tasks.js","components/AddTask.js","components/Task.js","components/EditTask.js","App.js","routes.js","tasks.js","index.js","create-router.js"],"names":["Tasks","props","router","onRemovableTasks","removable","_useStoreon","useStoreon","dispatch","tasks","osname","platform","user_id","user","id","console","log","react_default","a","createElement","vkui","left","ANDROID","onClick","delete_default","map","task","index","expandable","key","onRemove","navigate","text","AddTask","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","onClickAddTask","state","setState","error","navigateToDefault","onChangeTextTask","e","target","value","_this2","PanelHeaderBack_default","title","onChange","placeholder","vertical","style","float","className","done_default","size","React","Component","connect","Task","filter","Number","route","params","name","EditTask","onClickEditTask","_this$state","objectSpread","_this3","App","currentTaskId","VKUIconnect","subscribe","detail","type","data","send","_this$props","activeView","activePanel","components_Tasks","setCurrentTaskId","add_default","components_Task","write_default","theme","components_EditTask","components_AddTask","index_es","nodeName","_ref","App_App","assign","routes","path","API","createRouter","defaultRoute","usePlugin","loggerPlugin","browserPlugin","useHash","store","createStore","on","_ref2","tsks","_ref3","_ref4","fetch","concat","then","res","json","notes","_ref5","method","body","JSON","stringify","headers","Content-Type","_ref6","_ref7","_ref8","_ref9","tsk","start","ReactDOM","render","context_default","Provider","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.92365c2b.chunk.js","sourcesContent":["import React from 'react'\nimport { List, Cell, PanelHeader, platform, ANDROID, HeaderButton } from '@vkontakte/vkui'\nimport '@vkontakte/vkui/dist/vkui.css'\nimport Icon24Delete from '@vkontakte/icons/dist/24/delete'\nimport useStoreon from 'storeon/react'\n\nconst Tasks = (props) => {\n\n        let {\n            router,\n            onRemovableTasks,\n            removable\n        } = props\n\n\n        const { dispatch, tasks } = useStoreon('tasks')\n        const osname = platform()\n        const user_id = props.user.id\n\n        console.log(tasks)\n\n\t\treturn (\n\t\t\t<div>\n                <PanelHeader\n                    left={\n                        osname === ANDROID ?\n                        false\n                        :\n                        <HeaderButton \n                            onClick={() => onRemovableTasks()}\n                        >\n                            <Icon24Delete/>\n                        </HeaderButton>\n                    }\n                >\n                    Заметки\n                </PanelHeader>\n                <List>\n                    {\n                        tasks.map((task, index) => (\n                            <Cell\n                                expandable\n                                removable={removable}\n                                key={index}\n                                onRemove={() => dispatch('tasks/api/delete', ({ tasks }, {\n                                    task, user_id\n                                }))}\n                                onClick={()=> {\n                                        router.navigate('task', { id : task.id })\n                                    } \n                                }\n                            >\n                                {task.text}\n                            </Cell>\n                        ))\n                    }\n                </List>\n            </div>\n\t\t);\n}\n\nexport default Tasks","import React from 'react'\nimport { PanelHeader, FormLayout, Textarea, FixedLayout, Button, Div, platform, ANDROID, FormStatus } from '@vkontakte/vkui'\nimport '@vkontakte/vkui/dist/vkui.css'\nimport PanelHeaderBack from '@vkontakte/vkui/dist/components/PanelHeaderBack/PanelHeaderBack'\nimport Icon24Done from '@vkontakte/icons/dist/24/done'\nimport connect from 'storeon/react/connect'\n\nclass AddTask extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\ttext : '',\n\t\t\terror : false\n\t\t};\n\t}\n\n\tonClickAddTask = () => {\n\t\tlet {\n\t\t\trouter\n\t\t} = this.props\n\n\t\tlet {\n\t\t\ttext\n\t\t} = this.state\n\n\t\tif (text !== '') {\n\t\t\tthis.setState({ error : false })\n\t\t\tconst tasks = this.props.tasks\n\t\t\tconst user_id = this.props.user.id\n\t\t\tthis.props.dispatch('tasks/api/add', ({ tasks }, { user_id, text }))\n\t\t\trouter.navigateToDefault()\n\t\t} else {\n\t\t\tthis.setState({ error : true })\n\t\t}\n\n\t}\n\n\tonChangeTextTask = (e) => {\n\t\tconst text = e.target.value\n\t\tthis.setState({ text })\n\t}\n\n\trender() {\n\n\t\tlet {\n\t\t\trouter\n\t\t} = this.props\n\n\t\tconst osname = platform()\n\n\t\treturn (\n\t\t\t<div>\n                <PanelHeader\n\t\t\t\t\tleft={\n\t\t\t\t\t\t<PanelHeaderBack\n\t\t\t\t\t\t\tonClick={()=>router.navigate('tasks')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t>\n                Добавление\n                </PanelHeader>\n                <FormLayout>\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.state.error === true &&\n\t\t\t\t\t\t<FormStatus title=\"Некорректные поля\" state=\"error\">\n\t\t\t\t\t\t\tЗаполните все поля\n\t\t\t\t\t\t</FormStatus>\n\t\t\t\t\t}\n\t\t\t\t\t<Textarea \n\t\t\t\t\t\tonChange={this.onChangeTextTask}\n\t\t\t\t\t\tvalue={this.state.text}\n\t\t\t\t\t\tplaceholder='Здесь должен быть Ваш текст' />\n\t\t\t\t</FormLayout>\n\t\t\t\t<FixedLayout vertical='bottom'>\n\t\t\t\t\t{\n\t\t\t\t\t\tosname === ANDROID ? \n\t\t\t\t\t\t<Div style={{ float : 'right' }}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tclassName='FixedBottomButton'\n\t\t\t\t\t\t\t\tonClick={(e) => this.onClickAddTask(e)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Icon24Done/>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Div>\n\t\t\t\t\t\t:\n\t\t\t\t\t\t<Div>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tsize='xl'\n\t\t\t\t\t\t\t\tonClick={(e) => this.onClickAddTask(e)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tДобавить\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Div>\n\t\t\t\t\t}\n\t\t\t\t</FixedLayout>\n            </div>\n\t\t);\n\t}\n}\n\nexport default connect('tasks', AddTask)\n","import React from 'react'\nimport { PanelHeader, Header, Div, Group } from '@vkontakte/vkui'\nimport PanelHeaderBack from '@vkontakte/vkui/dist/components/PanelHeaderBack/PanelHeaderBack'\nimport useStoreon from 'storeon/react'\n\nfunction Task(props) {\t\n\t\n\tconst { tasks } = useStoreon('tasks')\n\tconst task = tasks.filter((task) => task.id === Number(props.route.params.id))[0]\n\tconst router = props.router\n\n\treturn (\n\t\t<div>\n           <PanelHeader\n\t\t\t\tleft={\n\t\t\t\t\t<PanelHeaderBack\n\t\t\t\t\t\tonClick={() => router.navigate('tasks')}\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t>\n            Задача\n            </PanelHeader>\n\t\t\t{\n\t\t\t\ttypeof task !== 'undefined' &&\n\t\t\t\t<Group>\n\t\t\t\t\t<Header>{task.name}</Header>\n\t\t\t\t\t<Div>{task.text}</Div>\n\t\t\t\t</Group>\n\t\t\t}\n        </div>\n\t)\n}\n\nexport default Task\n","import React from 'react'\nimport { PanelHeader, FormLayout, Textarea, FixedLayout, Button, Div, platform, ANDROID, FormStatus } from '@vkontakte/vkui'\nimport '@vkontakte/vkui/dist/vkui.css'\nimport PanelHeaderBack from '@vkontakte/vkui/dist/components/PanelHeaderBack/PanelHeaderBack'\nimport Icon24Done from '@vkontakte/icons/dist/24/done'\nimport connect from 'storeon/react/connect'\n\nclass EditTask extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tid : null,\n\t\t\ttext : '',\n\t\t\terror : false\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tconst tasks = this.props.tasks\n\t\tconst task = tasks.filter((task) => task.id === Number(this.props.route.params.id))[0]\n\t\tthis.setState({ ...task })\n\t}\n\n\tonClickEditTask = () => {\n\t\tlet {\n\t\t\trouter\n\t\t} = this.props\n\n\t\tlet {\n\t\t\tid,\n\t\t\ttext\n\t\t} = this.state\n\n\t\tif (text !== '') {\n\t\t\tthis.setState({ error : false })\n\t\t\tconst tasks = this.props.tasks\n\t\t\tlet task = { id, text }\n\t\t\tconst user_id = this.props.user.id\n\t\t\tthis.props.dispatch('tasks/api/edit', ({ tasks }, { task, user_id }))\n\t\t\trouter.navigate('task', { id : id })\n        } else {\n\t\t\tthis.setState({ error : true })\n\t\t}\n\n\t}\n\n\tonChangeTextTask = (e) => {\n\t\tconst text = e.target.value\n\t\tthis.setState({ text })\n\t}\n\n\trender() {\n\n\t\tlet {\n\t\t\trouter\n\t\t} = this.props\n\n\t\tconst osname = platform()\n\n\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<PanelHeader\n\t\t\t\t\t\tleft={\n\t\t\t\t\t\t\t<PanelHeaderBack \n\t\t\t\t\t\t\t\tonClick={()=>router.navigate('task', { id : this.state.id })}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\tРедактирование\n\t\t\t\t\t</PanelHeader>\n\t\t\t\t\t<FormLayout>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.state.error === true &&\n\t\t\t\t\t\t\t<FormStatus title=\"Некорректные поля\" state=\"error\">\n\t\t\t\t\t\t\t\tЗаполните все поля\n\t\t\t\t\t\t\t</FormStatus>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<Textarea \n\t\t\t\t\t\t\tonChange={this.onChangeTextTask}\n\t\t\t\t\t\t\tvalue={this.state.text}\n\t\t\t\t\t\t\tplaceholder='Напиши, чтобы ты хотел сделать' />\n\t\t\t\t\t</FormLayout>\n\t\t\t\t\t<FixedLayout vertical='bottom'>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tosname === ANDROID ?\n\t\t\t\t\t\t\t<Div style={{ float : 'right' }}>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tclassName='FixedBottomButton'\n\t\t\t\t\t\t\t\t\tonClick={() => this.onClickEditTask()}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Icon24Done/>\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Div>\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t<Div>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tsize='xl'\n\t\t\t\t\t\t\t\t\tonClick={() => this.onClickEditTask()}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tСохранить\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Div>\n\t\t\t\t\t\t}\n\t\t\t\t\t</FixedLayout>\n\t\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default connect('tasks', EditTask)\n","import React from 'react'\nimport { View, Panel, FixedLayout, Div, Button, platform, ANDROID, Root } from '@vkontakte/vkui'\nimport '@vkontakte/vkui/dist/vkui.css'\nimport Tasks from './components/Tasks'\nimport AddTask from './components/AddTask'\nimport Task from './components/Task'\nimport EditTask from './components/EditTask'\nimport Icon24Add from '@vkontakte/icons/dist/24/add'\nimport Icon24Write from '@vkontakte/icons/dist/24/write'\nimport { RouteNode } from 'react-router5'\nimport Icon24Delete from '@vkontakte/icons/dist/24/delete'\nimport './custom.css'\nimport connect from 'storeon/react/connect'\nimport VKUIconnect from '@vkontakte/vkui-connect'\n\nclass App extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tcurrentTaskId : null,\n\t\t\tremovable : false,\n\t\t\tuser : {\n\t\t\t\tid : 1\n\t\t\t}\n\t\t}\n\t}\n\n\tonRemovableTasks = () => this.setState({ removable : !this.state.removable })\n\n\tcomponentDidMount() {\n\t\tVKUIconnect.subscribe((e) => {\n\t\t\tswitch (e.detail.type) {\n\t\t\t\tcase 'VKWebAppGetUserInfoResult':\n\t\t\t\t\tthis.setState({ user: e.detail.data });\n\t\t\t\t\tlet id = e.detail.data.id\n\t\t\t\t\tthis.props.dispatch('tasks/api/get', \n\t\t\t\t\t\t(\t\n\t\t\t\t\t\t\t{ id }\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tconsole.log(e.detail.type);\n\t\t\t}\n\t\t});\n\t\tVKUIconnect.send('VKWebAppGetUserInfo', {});\n\n\t\tlet id = this.state.user.id\n\t\tthis.props.dispatch('tasks/api/get', \n\t\t\t\t\t\t(\t\n\t\t\t\t\t\t\t{ id }\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t}\n\n\trender() {\n\t\tlet {\n\t\t\troute,\n\t\t\trouter\n\t\t} = this.props\n\n\t\tconst osname = platform()\n\t\tconst activeView = (route.name === 'add') ? 'addView' : 'tasksView'\n\t\tconst activePanel = route.name\n\n\t\treturn (\n\t\t\t<Root activeView={activeView}>\n\t\t\t\t<View activePanel={activePanel} id='tasksView'>\n\t\t\t\t\t<Panel id='tasks'>\n\t\t\t\t\t\t<Tasks \n\t\t\t\t\t\t\tuser={this.state.user}\n\t\t\t\t\t\t\trouter={router}\n\t\t\t\t\t\t\tremovable={this.state.removable}\n\t\t\t\t\t\t\tonRemovableTasks={this.onRemovableTasks}\n\t\t\t\t\t\t\tsetCurrentTaskId={this.setCurrentTaskId}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<FixedLayout vertical='bottom'>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tosname === ANDROID ?\n\t\t\t\t\t\t\t\t<Div style={{ float : 'right' }}>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tclassName='FixedBottomButton'\n\t\t\t\t\t\t\t\t\t\tonClick={()=>router.navigate('add')}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Icon24Add/>\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Div>\n\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t<Div>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tsize=\"xl\"\n\t\t\t\t\t\t\t\t\t\tonClick={()=>router.navigate('add')}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tНовая заметка\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tosname === ANDROID ? \n\t\t\t\t\t\t\t\t<Div>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tclassName='FixedBottomButton'\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.onRemovableTasks()}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Icon24Delete/>\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Div>\n\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</FixedLayout>\n\t\t\t\t\t</Panel>\n\t\t\t\t\t\n\t\t\t\t\t<Panel id='task'>\n\t\t\t\t\t\t<Task \n\t\t\t\t\t\t\trouter={router}\n\t\t\t\t\t\t\troute={route}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<FixedLayout vertical='bottom'>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tosname === ANDROID ?\n\t\t\t\t\t\t\t\t<Div style={{ float : 'right' }}>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tclassName='FixedBottomButton'\n\t\t\t\t\t\t\t\t\t\tonClick={()=>router.navigate('edit', { id : route.params.id })}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Icon24Write/>\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Div>\n\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t<Div>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tsize=\"xl\"\n\t\t\t\t\t\t\t\t\t\tonClick={()=>router.navigate('edit', { id : route.params.id })}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tРедактировать\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</FixedLayout>\n\t\t\t\t\t</Panel>\n\n\t\t\t\t\t<Panel id=\"edit\" theme=\"white\">\n\t\t\t\t\t\t<EditTask \n\t\t\t\t\t\t\trouter={router}\n\t\t\t\t\t\t\troute={route}\n\t\t\t\t\t\t\tuser={this.state.user}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Panel>\n\n\t\t\t\t</View>\n\t\t\t\t<View activePanel={activePanel} id='addView'>\n\t\t\t\t\t<Panel id='add' theme=\"white\">\n\t\t\t\t\t\t\t<AddTask \n\t\t\t\t\t\t\t\tuser={this.state.user}\n\t\t\t\t\t\t\t\trouter={router}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t</Panel>\n\t\t\t\t</View>\n\t\t\t</Root>\n\t\t)\n\t}\n}\n\nexport default connect('tasks', (props) => (\n    <RouteNode nodeName=\"\">\n        {({ route }) => <App route={route} {...props}/>}\n    </RouteNode>))","export default [\n    { name: 'tasks', path: '/tasks' },\n    { name: 'task', path: '/task/:id' },\n    { name: 'edit', path: '/edit/:id' },\n    { name: 'add', path: '/add' }\n]","//localhost:8082\n//'https://azshara-api.com'\nconst API = 'http://localhost:8082'\n\nexport default store => {\n    store.on('@init', () => {\n        return { tasks : [] }\n    })\n\n    store.on('tasks/get', ({ tasks }, { tsks }) => {\n        return { tasks : tsks }\n    })\n\n    store.on('tasks/api/get', ({ tasks }, { id }) => {\n        fetch(`${API}/notes/${id}`)\n        .then(res => res.json())\n        .then(data => {\n            let tsks = data.notes\n            store.dispatch('tasks/get', { tsks })\n        })\n    })\n  \n    store.on('tasks/api/add', ({ tasks }, task) => {\n\n        fetch(`${API}/add`, {\n            method : 'POST',\n            body : JSON.stringify(task),\n            headers: { 'Content-Type': 'application/json' }\n        })\n        .then(res => res.json())\n        .then(data => {\n            console.log(data)\n        })\n        return { tasks: tasks.concat([task]) }\n    })\n\n    store.on('tasks/api/delete', ({ tasks }, { task, user_id }) => {\n\n        fetch(`${API}/delete`, {\n            method : 'POST',\n            body : JSON.stringify({\n                id : task.id,\n                user_id : user_id\n            }),\n            headers: { 'Content-Type': 'application/json' }\n        })\n\n        const id = task.id\n        return { tasks: tasks.filter((task) => task.id !== id) }\n    })\n\n    store.on('tasks/api/edit', ({ tasks }, { task, user_id } ) => {\n\n        fetch(`${API}/edit`, {\n            method : 'POST',\n            body : JSON.stringify({\n                id : task.id,\n                text : task.text,\n                user_id : user_id\n            }),\n            headers: { 'Content-Type': 'application/json' }\n        })\n\n        let newTasks = tasks.map((tsk) => {\n\t\t\tif (tsk.id === task.id) {\n\t\t\t\ttsk = task\n\t\t\t}\n\t\t\treturn tsk\n\t\t})\n\t\treturn { tasks : newTasks }\n    })\n  }","import 'core-js/es6/map';\nimport 'core-js/es6/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vkui-connect';\nimport App from './App';\nimport { RouterProvider } from 'react-router5'\nimport createRouter from './create-router'\nimport createStore from 'storeon'\nimport tasks from './tasks'\nimport StoreContext from 'storeon/react/context'\n\nconnect.send('VKWebAppInit', {});\n\n\nconst router = createRouter()\nconst store = createStore([tasks])\n\nrouter.start(() => {\n    ReactDOM.render((\n        <RouterProvider router={router}>\n            <StoreContext.Provider value={store}>\n                <App router={router}/>\n            </StoreContext.Provider>\n        </RouterProvider>\n    ), document.getElementById('root'))\n})\n","import createRouter from 'router5'\nimport loggerPlugin from 'router5-plugin-logger'\nimport browserPlugin from 'router5-plugin-browser'\nimport routes from './routes'\n\nexport default function configureRouter() {\n    const router = createRouter(routes, {\n        defaultRoute: 'tasks'\n    })\n\n    router.usePlugin(loggerPlugin)\n    router.usePlugin(\n            browserPlugin({\n                useHash: true\n            })\n        )\n\n    return router\n}"],"sourceRoot":""}